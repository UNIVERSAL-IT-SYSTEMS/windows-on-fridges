<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Nodebots on  </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://ms-iot.github.io/windows-on-fridges//nodebot/index.xml</link>
    
    
    
    <updated>Tue, 01 Jul 2014 00:00:00 UTC</updated>
    
    <item>
      <title>Hardware</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/hardware</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/hardware</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Hardware&lt;/h2&gt;

&lt;p&gt;The parts used are entirely dependent on what you wish to build.
This is the parts list for the robot that we built.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://windowsondevices.com&#34;&gt;Galileo Board&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/Motor-Shield-V20-p-1377.html?cPath=91_92&#34;&gt;Motor Shield&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://makeblock.cc&#34;&gt;Makeblock Robotics Kit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/NETGEAR-WNCE2001-Universal-Internet-Adapter/dp/B007CO5DZ4/ref=sr_sp-btf_title_1_8?ie=UTF8&amp;amp;qid=1406065590&amp;amp;sr=8-8&amp;amp;keywords=wifi+adapter+netgear&#34;&gt;Wireless Adapter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/Mophie-Powerstation-4000mAh-External-BlackBerry/dp/B005OW4BFE/ref=sr_sp-atf_title_1_1?ie=UTF8&amp;amp;qid=1406065626&amp;amp;sr=8-1&amp;amp;keywords=mophie+battery+pack&#34;&gt;Galileo Battery&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Galileo requires 2A at 5V&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/Generic-Volt-Barrel-Power-Cable/dp/B00304DZ7I/ref=sr_sp-atf_title_1_2?ie=UTF8&amp;amp;qid=1406065711&amp;amp;sr=8-2&amp;amp;keywords=usb+to+barrel&#34;&gt;USB to Barrel Plug&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/Venom-5000mAh-8-Cell-Battery-Universal/dp/B001JTWSX8&#34;&gt;Motor Battery&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Ensure you motor shield can handle the voltage you will provide.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/Great-Planes-Charge-Banana-Ultra/dp/B001BHLWKI/ref=sr_sp-btf_title_1_13?ie=UTF8&amp;amp;qid=1406065892&amp;amp;sr=8-13&amp;amp;keywords=deans+connector+male&#34;&gt;Deans connector&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;The leads will need to be stripped to connect to the motor shield.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/Tenergy-Universal-Smart-Charger-Battery/dp/B003MXMJX8/ref=sr_sp-atf_title_1_1?ie=UTF8&amp;amp;qid=1406065971&amp;amp;sr=8-1&amp;amp;keywords=tenergy+charger&#34;&gt;Battery Charger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/AmazonBasics-4-Port-USB-2-0-Ultra-Mini/dp/B003M0NURK/ref=sr_sp-atf_title_1_2?ie=UTF8&amp;amp;qid=1406066066&amp;amp;sr=8-2&amp;amp;keywords=usb+hub&#34;&gt;USB Hub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.thinkgeek.com/product/96b3/&#34;&gt;Micro Fridge&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Build</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/building</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/building</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Building the Robot&lt;/h2&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Step 1. Robot frame&lt;/h2&gt;

&lt;p&gt;There are many frames to choose from when it comes to building a small to mid sized robot. &lt;a href=&#34;http://www.makeblock.cc/&#34;&gt;Makeblock&lt;/a&gt; is a simple open platform for robotics that is easy to put together. Here is an example configuration of a Makeblock robot with a galileo attached. You can get pretty creative here, there is no right way to build an awesome robot.
We chose to build the &lt;a href=&#34;/windows-on-fridges/pdf/Makeblock-Big-Tank.pdf&#34;&gt;Big Tank&lt;/a&gt; frame.
&lt;img src=&#34;/windows-on-fridges/img/nodebot/nodebot-frame.jpg&#34; style=&#39;width:100%;&#39; border=&#34;0&#34; alt=&#34;Null&#34;&gt;
There are many configurations of robots you can build on Makeblocks &lt;a href=&#34;https://github.com/Makeblock-official/Assembly-Instructions&#34;&gt;assembly instruction&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Step 2. Motors&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;The motor shield we used is a &lt;a href=&#34;http://www.seeedstudio.com/depot/Motor-Shield-V20-p-1377.html?cPath=91_92&#34;&gt;SeeedStudio V1/V2 Motor Shield&lt;/a&gt;. This shield can either be powered directly from the board or from an external power source via its external power jack. Without external power the motors may not turn when a load is applied.

&lt;ul&gt;
&lt;li&gt;There is more documentation for the motor shield on the SeeedStudio &lt;a href=&#34;http://www.seeedstudio.com/wiki/Motor_Shield_V2.0&#34;&gt;wiki&lt;/a&gt;.
&lt;em&gt;Either the V1 or V2 motor shield from SeeedStudio will work&lt;/em&gt;
&lt;img src=&#34;/windows-on-fridges/img/nodebot/motorshield.jpg&#34; style=&#39;width:100%;&#39; border=&#34;0&#34; alt=&#34;Null&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Connect the motor shield to the Galileo.&lt;/li&gt;
&lt;li&gt;Attach 2 motors to the shield, the polarity does not matter but will affect the direction of the motors. You may have to switch the wires if the motors are turning the wrong way.&lt;/li&gt;
&lt;li&gt;Attach the battery connector to the motor shield&amp;rsquo;s external power input.&lt;/li&gt;
&lt;li&gt;All together it should look something like this. &lt;em&gt;This version has the V1 shield, they are functionally the same&lt;/em&gt;
&lt;img src=&#34;/windows-on-fridges/img/nodebot/nodebot-motors-shield.jpg&#34; style=&#39;width:100%;&#39; border=&#34;0&#34; alt=&#34;Null&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;Step 3. Putting it all together&lt;/h2&gt;

&lt;p&gt;Secure all your parts on the robot frame. You will need space for a Galileo, 2 batteries, and a wifi adapter.&lt;/p&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;Step 4. Set up Wifi Adapter&lt;/h2&gt;

&lt;p&gt;Wifi gaming adapters allow you to connect devices to wifi that otherwise could
only connect over LAN.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Purchase an adapter, such as &lt;a href=&#34;http://www.amazon.com/NETGEAR-WNCE2001-Universal-Internet-Adapter/dp/B007CO5DZ4/ref=sr_1_3?ie=UTF8&amp;amp;qid=1404169366&amp;amp;sr=8-3&amp;amp;keywords=wireless+gaming+adapter&#34;&gt;this recommended option&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Follow the instructions supplied with your gaming adapter to connect it to your wireless network.&lt;/li&gt;
&lt;li&gt;Connect the Gaming Adapter to the Galileo with an ethernet cable.&lt;/li&gt;
&lt;li&gt;The recommended adapter also includes a USB power cable; If your adapter includes a USB power cable connect it to the Galileo with a &lt;a href=&#34;http://www.amazon.com/Micro-USB-Male-Female-Adapter/dp/B0027YYMU6&#34;&gt;Micro USB Male to USB A Female Adapter&lt;/a&gt; . The Galileo can provide sufficient power to the recommended adapter.&lt;/li&gt;
&lt;li&gt;Connect your development machine to the same wireless network as the gaming adapter.&lt;/li&gt;
&lt;li&gt;Ping the Galileo by hostname and ensure it is connected to the network.&lt;/li&gt;
&lt;li&gt;You should now be able to deploy to the Galileo over wireless network!&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Firmata</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/firmata</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/firmata</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Firmata&lt;/h2&gt;

&lt;p&gt;Firmata is a protocol that allows you to use a client library to interact with microcontrollers and other hardware. We will be using Standard Firmata on the Galileo and controlling it with &lt;a href=&#34;https://github.com/rwaldron/johnny-five&#34;&gt;Johnny-Five&lt;/a&gt; a NodeJS client library that is built for robotics.&lt;/p&gt;

&lt;p&gt;We are using a &lt;a href=&#34;http://github.com/ms-iot/arduino&#34;&gt;modified version&lt;/a&gt; of &lt;a href=&#34;http://github.com/firmata/arduino&#34;&gt;Firmata Arduino&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Running Firmata&lt;/h2&gt;

&lt;p&gt;Firmata must be running on the board before the node client can interact with it.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Clone the Galileo Firmata Repository&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/ms-iot/arduino
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Follow the &lt;a href=&#34;http://ms-iot.github.io/content/Firmata.htm&#34;&gt;documentation&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Once you have deployed you will be able to telnet into the Galileo and remotely start firmata.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;telnet mygalileo
cd c:\test
Firmata.exe
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We can now control the Galileo using the Firmata protocol with any client library.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Node Client</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/client</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/client</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Node Client&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;Make sure you have &lt;a href=&#34;http://nodejs.org&#34;&gt;NodeJS&lt;/a&gt; and &lt;a href=&#34;http://python.org&#34;&gt;Python&lt;/a&gt; installed and in your path&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Johnny-Five is the client library we will be using to interact with Firmata on the Galileo. Johnny-Five requires &lt;a href=&#34;https://github.com/voodootikigod/node-serialport&#34;&gt;SerialPort&lt;/a&gt; which is built with Python.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;To get started clone the &lt;a href=&#34;https://github.com/ms-iot/wof-nodebot&#34;&gt;wof-nodebot-client&lt;/a&gt; repo.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/ms-iot/wof-nodebot
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Install Node dependencies from the packages.json file.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd wof-nodebot
npm install
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Comment out line 485, there are some issues with a logging dependency&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//message[color];
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;In the client.js file change galileoIP to reflect either the hostname or IP Address of your board.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var galileoIP = &#39;mygalileo&#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;When we connect to a socket server you may want to change the serverUrl to an endpoint on Azure.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var serverUrl = &#39;http://localhost:1337&#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We should now be able to test the client, from the client source directory&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;node client.js
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We should see a REPL prompt, at the prompt we can test the motors&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;motors.left.fwd(255)
motors.right.rev(255)
motors.left.stop()
motors.right.stop()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;At this point we should have a working robot that you can control from the command line.
We will now connect the client to the socket server that can run locally or on Azure.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Connecting to Firmata&lt;/h2&gt;

&lt;p&gt;Firmata is normally controlled over serial however, the Galileo does not have a proper serial connection to the computer.
  We instead use &lt;a href=&#34;https://github.com/ms-iot/galileo-sdk/blob/develop/source/NetworkSerial.cpp&#34;&gt;Network Serial&lt;/a&gt; for serial communication.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In the case of Node we use the net package to create a socket connection on the &lt;em&gt;default port 27015&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var net = require(&amp;quot;net&amp;quot;);


var socket = net.createConnection(27015, galileoIP); 
console.log(&#39;Socket created.&#39;);
this.socket.on(&#39;data&#39;, function (data) {
  // Log the response from the HTTP server.
  console.log(&#39;RESPONSE: &#39; + data);
}).on(&#39;connect&#39;, function () {
  // Manually write an HTTP request.
  console.log(&amp;quot;connected&amp;quot;);
}).on(&#39;end&#39;, function () {
  console.log(&#39;DONE&#39;);
});
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Then we can create a Johnny-Five board object with this socket as the port.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var five = require(&amp;quot;johnny-five&amp;quot;);


board = new five.Board({
  port: socket
});
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Node Server</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/server</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/server</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Node Server&lt;/h2&gt;

&lt;p&gt;The node server uses Expressjs for handling HTTP requests and socket.io for talking to the client. This allows us to control the robot with simple REST calls to an endpoint either locally or in the cloud.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Clone the &lt;a href=&#34;http://github.com/ms-iot/wof-nodebot-server&#34;&gt;wof-nodebot-server&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone http://github.com/ms-iot/wof-nodebot-server
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Install dependencies&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm install
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;To run locally&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;node server.js
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;To deploy to Azure you can follow &lt;a href=&#34;http://azure.microsoft.com/en-us/documentation/articles/web-sites-nodejs-develop-deploy-mac/&#34;&gt;this guide&lt;/a&gt; which will teach you how to deploy a hello world application. Instead of the the hello world application just set the upstream on the server you cloned to Azure&amp;rsquo;s endpoint.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git remote add azure [URL for remote repository]
git push azure master
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;You will need to change the server endpoint in the nodebot client&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// example Azure endpoint
var serverUrl = &#39;test-robotcontrol.azurewebsites.net&#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Calibration</title>
      <link>http://ms-iot.github.io/windows-on-fridges/nodebot/calibrating</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 UTC</pubDate>
      
      <guid>http://ms-iot.github.io/windows-on-fridges/nodebot/calibrating</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Calibrating the Robot&lt;/h2&gt;

&lt;p&gt;The commands coming from Azure are in this format:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;commandList&amp;quot;: [
  {&amp;quot;Distance&amp;quot;:1,&amp;quot;Angle&amp;quot;:0},
  {&amp;quot;Distance&amp;quot;:1.4142135623730952,&amp;quot;Angle&amp;quot;:45},
  {&amp;quot;Distance&amp;quot;:1,&amp;quot;Angle&amp;quot;:-135},
  {&amp;quot;Distance&amp;quot;:1,&amp;quot;Angle&amp;quot;:180}
]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But the commands the robot understands are in this format:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;commandList&amp;quot;: [
  {&amp;quot;direction&amp;quot;:&#39;RIGHT&#39;,&amp;quot;speed&amp;quot;:255,&amp;quot;duration&amp;quot;:100},
  {&amp;quot;direction&amp;quot;:&#39;FORWARD&#39;,&amp;quot;speed&amp;quot;:255,&amp;quot;duration&amp;quot;:100},
  {&amp;quot;direction&amp;quot;:&#39;LEFT&#39;,&amp;quot;speed&amp;quot;:255,&amp;quot;duration&amp;quot;:100},
  {&amp;quot;direction&amp;quot;:&#39;FORWARD&#39;,&amp;quot;speed&amp;quot;:255,&amp;quot;duration&amp;quot;:100}
]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To translate between the two, we need to find out how long it takes the robot to turn a certain angle, and how long it takes to go forward a certain distance. The duration needed for each command can be easily calculated given the right, left, and forwards speeds. To make sure these speeds stay constant, we will have a set PWM at which they are measured. See below for instructions on how to measure the right and left rotational speeds, and the forward speed.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var direction; 
var speed; 

if (command.Angle &amp;gt; 0) { 
    this.motorControl(&#39;RIGHT&#39;, setPWM, command.Angle / rotationalSpeedRight); 
    // deg/(deg/ms) = ms 
} else if (command.Angle &amp;lt; 0) { 

this.motorControl(&#39;LEFT&#39;, setPWM, command.Angle / rotationalSpeedLeft);  
// deg/(deg/ms) = ms 
} 

this.motorControl(&#39;FORWARD&#39;, setPWM, command.Distance / forwardSpeed);  
// distance/(distance/ms) = ms 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;toc_1&#34;&gt;Calibration Variables&lt;/h3&gt;

&lt;p&gt;Every robot will be slightly different. To calibrate your robot to accurately follow your commands, follow the directions below.&lt;/p&gt;

&lt;p&gt;While measuring, keep in mind that your robot might move differently based on what surface (ex: carpet, tile, or wood flooring) it is moving on. Try to take your measurements on the surface the robot will be using most. If there are significant differences in robot performance on different surfaces you may want to keep the robot from going on certain surfaces that will throw it off by removing those paths from your map. The weight of the robot will also cause these numbers to shift. Do your measurements with a full can in the fridge.&lt;/p&gt;

&lt;h4 id=&#34;toc_2&#34;&gt;PWM&lt;/h4&gt;

&lt;p&gt;If we are going to measure a consistent speed of the robot, the motors need to have a consistent PWM. Choose one [0, 255] and stick with it. This must stay constant throughout your measurements and whenever your robot is following the angle, distance style of instructions or else your measured speeds will be meaningless.&lt;/p&gt;

&lt;h4 id=&#34;toc_3&#34;&gt;Rotational Speed Right&lt;/h4&gt;

&lt;p&gt;Rotational speed right can be calculated by sending the command&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{direction: RIGHT, speed: setPWM, duration: 100} 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then measure the degrees the robot turned. It may be helpful to mark the robot&amp;rsquo;s initial heading on the ground with tape to assist with measurements.&lt;/p&gt;

&lt;p&gt;Try with a few different durations to make sure the degrees/duration stays relatively consistent.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rotationalSpeedRight = average(degrees/duration)  // degrees/millisecond when turning right  
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;toc_4&#34;&gt;Rotational Speed Left&lt;/h4&gt;

&lt;p&gt;Rotational speed left can be similarly calculated with&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{direction: LEFT, speed: setPWM, duration: 100} 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It may turn out to be the same as rotationalSpeedRight, but you can&amp;rsquo;t assume that will be the case.&lt;/p&gt;

&lt;p&gt;Again, try with a few different durations to make sure the it is relatively consistent.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rotationalSpeedLeft = average(degrees/duration)  // degrees/millisecond when turning left 
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;toc_5&#34;&gt;Forward Speed&lt;/h4&gt;

&lt;p&gt;forwardSpeed is the distance your robot moves forward in one millisecond.&lt;/p&gt;

&lt;p&gt;The unit of distance you use should match the unit of distance of the map you use.&lt;/p&gt;

&lt;p&gt;For example, if your directions pass in the distance in meters, forwardSpeed should be calculated in meters/millisecond.&lt;/p&gt;

&lt;p&gt;Use&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{direction: FORWARD, speed: setPWM, duration: 100}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and measure how far your robot moves forward.&lt;/p&gt;

&lt;p&gt;Again, marking the ground could be helpful.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;forwardSpeed = average(distance/millisecond)  // distance/millisecond when going forward 
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>