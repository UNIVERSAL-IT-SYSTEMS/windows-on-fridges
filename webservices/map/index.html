<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Upload Map</title>

    <link href="http://ms-iot.github.io/windows-on-fridges/css/bootstrap-theme.css" rel="stylesheet">
    <link href="http://ms-iot.github.io/windows-on-fridges/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/css/style.css" rel="stylesheet">
    <link href="http://ms-iot.github.io/windows-on-fridges/css/style-responsive.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/css/monokai_sublime.css" rel="stylesheet" />

  </head>

  <body>
  
  <section id="container" class="">

      
      <header class="header black-bg">
            <div class="toggle-nav">
                <i class="fa fa-bars"></i>
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <a href="/" class="logo">Windows on Fridges</a>
            <div class="top-nav notification-row">
                
                <div class="hidden-xs nav-github pull-right">
                  
                </div>
            </div>

            
      </header>
      


<aside>
    <div id="sidebar"  class="nav-collapse ">
        
        <ul class="sidebar-menu">
          
          
              
                <li>
                <a class="" href="http://windowsondevices.com">
                    <i class='fa fa-download'></i>
                    
                    <span>Windows IoT Dev</span>
                </a>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-info-circle'></i>
                
                <span>about</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/meta/roadmap"> Future </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-road'></i>
                
                <span>getting started</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/introduction"> Introduction </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/quickstart"> Quickstart </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/configuration"> Configuration </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/source-directory"> Source Organization </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-cogs'></i>
                
                <span>nodebot</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/hardware"> hardware </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/building"> build </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/firmata"> firmata </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/client"> client </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/server"> server </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/calibrating"> Calibration </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu active">
            <a href="javascript:;" class="">
                <i class='fa fa-cloud'></i>
                
                <span>web services</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/azure"> Azure </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/webapp"> Webapp </a> </li>
                    
                    <li class="active"><a href="http://ms-iot.github.io/windows-on-fridges/webservices/map"> Map </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/pathfinding"> Pathfinding </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-group'></i>
                
                <span>community</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/press"> Press </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/contributing"> Contributing </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/contact"> Contact </a> </li>
                    
                </ul>
              
              </li>
          
            <li> <a href="https://github.com/ms-iot/windows-on-fridges/issues" target="blank"><i class='fa fa-life-ring'></i>Issues & Help</a> </li>
              <li><a href="https://github.com/ms-iot/windows-on-fridges/edit/master/content/webservices/map.md" target="blank"><i class='fa fa-edit'></i> Refine this Page</a> </li>
        </ul>
        
    </div>
</aside>



      
      <section id="main-content">
          <section class="wrapper">

              
                  
                      
                      
                          
                          
                          
                      
                      
                  
              

              <div class="row">
                  <div class="col-md-1">
                      
                      <a class="navigation prev" href="/windows-on-fridges/webservices/webapp">
                      <i class="fa fa-angle-left"></i>
                      </a>
                      
                  </div>
                <div class="col-md-10">
                    <section class="panel">
                          
                              
                          
                    <div class="panel-body">



<h2 id="toc_0">Map Upload</h2>

<p>We have a simple converter that takes an image of the map in SVG format and creates a graph to make finding the shortest path between two rooms faster and easier. Our converter does not cover all the variety of SVG files, but strictly supports the maps generated the following way:</p>

<h4 id="toc_1">Step 1</h4>

<ul>
<li>Install <a href="http://office.microsoft.com/en-us/visio/">Microsoft Visio 2013</a> if you don&rsquo;t have one already. You can also subscribe for a <a href="http://www.microsoft.com/en-us/evalcenter/evaluate-visio-professional-2013">free trial</a>.</li>
</ul>

<h4 id="toc_2">Step 2</h4>

<ul>
<li>Take any map of the space in JPEG format and open it in Visio

<ul>
<li>WARNING: Other file types might work with these instructions but were not tested.</li>
<li>HINT: Cannot open your map in Visio? You might have to change the file type at the bottom right corner of the pop-up.</li>
</ul></li>
</ul>

<p><img src="/windows-on-fridges/img/map/1.jpg" style='width:50%;' border="0" alt="Null"></p>

<ul>
<li>To make your future SVG map easily extractable from the image you opened, create a new layer by going to Home -&gt; Layers -&gt; Layer properties -&gt; New. Press &ldquo;ok&rdquo; after you’re done.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/2.JPG" style='width:100%;' border="0" alt="Null"></p>

<h4 id="toc_3">Step 3</h4>

<ul>
<li>Use the line tool to draw all paths that you want the robot to wander. Make sure you &ldquo;snap&rdquo; the lines together if you want the two paths to actually be connected.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/3.jpg" style='width:80%;' border="0" alt="Null"></p>

<p><img src="/windows-on-fridges/img/map/4.jpg" style='width:90%;' border="0" alt="Null"></p>

<ul>
<li>Use the line tool to create little strokes crossing the paths at the places you want robot to be able to stop at. To make your web-app aware of the available stops, after creating each of the strokes left-click on it and choose data -&gt; define shape data. In the pop-up input &ldquo;officeNumber&rdquo; as a title and the actual room number as value. Save. To check that the officeNumber has actually been set up or to change the officeNumber you can always use the pointer tool to select the stroke and view the shape data.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/5.jpg" style='width:60%;' border="0" alt="Null"></p>

<p><img src="/windows-on-fridges/img/map/6.JPG" style='width:60%;' border="0" alt="Null"></p>

<h4 id="toc_4">Step 4</h4>

<ul>
<li>With the current implementation the robot stops in the hallways where you placed the crossing points. But you don&rsquo;t want the robot to sit in a hallway all the time. This way, you need a little hub for it to start from amd come back to. To do that draw a path leading inside the room you want the robot to be located. Inside the room create a crossing point by drawing another stroke and setting its &ldquo;officeNumber&rdquo; value to 0.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/65.JPG" style='width:50%;' border="0" alt="Null"></p>

<h4 id="toc_5">Step 5</h4>

<ul>
<li>A map is no good without the scale! To add the scale just put a line over something you know the actual length of, like a room or a hallway. Your map might have an actual scale at the bottom which you can use. Left-click on your scale and choose &ldquo;define shape data&rdquo;. In the pop-up input &ldquo;scale&rdquo; as a title and the actual length as value. Save.</li>
<li>Note that the units you put in the &ldquo;value&rdquo; field will be the units the program will use from now on. For example, if my scale is 15 meters, meters will be my units.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/7.JPG" style='width:90%;' border="0" alt="Null"></p>

<h4 id="toc_6">Step 6</h4>

<ul>
<li>When you&rsquo;re done, save your Visio project to come back and modify your map whenever you want.</li>
<li>After that, delete the underlying map image by selecting it with a pointer tool and pressing “delete” button.</li>
</ul>

<p><img src="/windows-on-fridges/img/map/8.JPG" style='width:50%;' border="0" alt="Null"><img src="/windows-on-fridges/img/map/9.JPG" style='width:50%;' border="0" alt="Null"></p>

<ul>
<li>Make sure you don&rsquo;t have any particular shape selected to avoid having only this shape saved.</li>
<li>Go to file -&gt; export -&gt; change file type. Double-click on &ldquo;SVG Scalable Vector Graphics&rdquo;. Save your map as &ldquo;map.svg&rdquo;.</li>
<li>WARNING: Don&rsquo;t save your Visio project after you deleted the original map. This will make it very inconvenient to add changes to your map later.</li>
</ul>

<p>Congratulations! Your map is ready. You can view the generated SVG code by opening the map file in Notepad or Visual Studio. Now let&rsquo;s upload it to Azure. For this step, you should have <a href="http://ms-iot.github.io/windows-on-fridges/webservices/azure/">set up your Azure services</a>.</p>

<h4 id="toc_7">Step 8.</h4>

<ul>
<li>Upload your map to Azure using Server Explorer in Visual Studio.

<ul>
<li>In Server Explorer navigate to Windows Azure -&gt; Storage -&gt; your storage account name -&gt; Blobs. Double-click on container you want to use. Upload the map you created.</li>
<li>Note that your map should be called “map.svg” or replace “map.svg” by your name in WorkerRole.cs</li>
</ul></li>
</ul>

<p><img src="/windows-on-fridges/img/cloudServices/1.JPG" style='width:50%;' border="0" alt="Null"></p>

<p><img src="/windows-on-fridges/img/cloudServices/2.jpg" style='width:90%;' border="0" alt="Null"></p>


                    </div>
                    </section>
                </div>
                <div class="col-md-1">
                    
                    <a class="navigation next" href="/windows-on-fridges/webservices/pathfinding">
                        <i class="fa fa-angle-right"> </i>
                    </a>
                    
                </div>
              </div>
              
          </section>
      </section>
     
  </section>
  
    
    <script src="http://ms-iot.github.io/windows-on-fridges/js/jquery-1.11.1.min.js"></script>
    <script src="http://ms-iot.github.io/windows-on-fridges/js/bootstrap.min.js"></script>
    
    <script src="http://ms-iot.github.io/windows-on-fridges/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://ms-iot.github.io/windows-on-fridges/js/scripts.js"></script>
    <script async defer id="github-bjs" src="/windows-on-fridges/js/buttons.js"></script>
    <script>


</script>

  </body>
</html>

