<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Web App</title>

    <link href="http://ms-iot.github.io/windows-on-fridges/css/bootstrap-theme.css" rel="stylesheet">
    <link href="http://ms-iot.github.io/windows-on-fridges/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/css/style.css" rel="stylesheet">
    <link href="http://ms-iot.github.io/windows-on-fridges/css/style-responsive.css" rel="stylesheet" />
    <link href="http://ms-iot.github.io/windows-on-fridges/css/monokai_sublime.css" rel="stylesheet" />

  </head>

  <body>
  
  <section id="container" class="">

      
      <header class="header black-bg">
            <div class="toggle-nav">
                <i class="fa fa-bars"></i>
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <a href="/" class="logo">Windows on Fridges</a>
            <div class="top-nav notification-row">
                
                <div class="hidden-xs nav-github pull-right">
                  
                </div>
            </div>

            
      </header>
      


<aside>
    <div id="sidebar"  class="nav-collapse ">
        
        <ul class="sidebar-menu">
          
          
              
                <li>
                <a class="" href="http://windowsondevices.com">
                    <i class='fa fa-download'></i>
                    
                    <span>Windows IoT Dev</span>
                </a>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-info-circle'></i>
                
                <span>about</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/meta/roadmap"> Future </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/meta/license"> License </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-road'></i>
                
                <span>getting started</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/introduction"> Introduction </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/quickstart"> Quickstart </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/configuration"> Configuration </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/overview/source-directory"> Source Organization </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-cogs'></i>
                
                <span>nodebot</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/hardware"> hardware </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/building"> build </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/firmata"> firmata </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/client"> client </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/server"> server </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/nodebot/calibrating"> Calibration </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu active">
            <a href="javascript:;" class="">
                <i class='fa fa-cloud'></i>
                
                <span>web services</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/azure"> Azure </a> </li>
                    
                    <li class="active"><a href="http://ms-iot.github.io/windows-on-fridges/webservices/webapp"> Webapp </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/map"> Map </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/webservices/pathfinding"> Pathfinding </a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-group'></i>
                
                <span>community</span>
                
            </a>
                <ul class="sub">
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/press"> Press </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/contributing"> Contributing </a> </li>
                    
                    <li><a href="http://ms-iot.github.io/windows-on-fridges/community/contact"> Contact </a> </li>
                    
                </ul>
              
              </li>
          
            <li> <a href="https://github.com/ms-iot/windows-on-fridges/issues" target="blank"><i class='fa fa-life-ring'></i>Issues & Help</a> </li>
              <li><a href="https://github.com/ms-iot/windows-on-fridges/edit/master/content/webservices/webapp.md" target="blank"><i class='fa fa-edit'></i> Refine this Page</a> </li>
        </ul>
        
    </div>
</aside>



      
      <section id="main-content">
          <section class="wrapper">

              
                  
                      
                      
                          
                          
                          
                      
                      
                  
              

              <div class="row">
                  <div class="col-md-1">
                      
                      <a class="navigation prev" href="/windows-on-fridges/webservices/azure">
                      <i class="fa fa-angle-left"></i>
                      </a>
                      
                  </div>
                <div class="col-md-10">
                    <section class="panel">
                          
                              
                          
                    <div class="panel-body">



<h2 id="toc_0">Web App</h2>

<p>Our web application is a simple one-page app that has responsive design and can be used to call the robot to a certain room, cancel the request to a certain room, check on the request status, and submit feedback.</p>

<p><img src="/windows-on-fridges/img/app/0.jpg" style='width:60%;' border="0" alt="Null"></p>

<ul>
<li><p>Submitting the request:
To submit request the user needs to submit an office number to deliver a drink to and press “fetch the fridge” button.</p></li>

<li><p>Cancelling the request:
After request is submitted it can be cancelled by pressing the “Cancel request” button</p></li>

<li><p>Check on the status:
If the drink is already on a way to a submitted room, the web app will inform a user.</p></li>

<li><p>Submit feedback:
The submit feedback field is at the bottom of the page. The feedback is sent to the owner’s email and stored at the database.</p></li>
</ul>

<p>To get the web app to work, you should have <a href="http://ms-iot.github.io/windows-on-fridges/webservices/azure/">set up your Azure account</a>. Now you can get this web-app to run on Azure and work with your mobile services!</p>

<h4 id="toc_1">Step 1.</h4>

<ul>
<li><p>Get the source files by cloning the git repository at <a href="https://github.com/ms-iot/wof-webapp.git">https://github.com/ms-iot/wof-webapp.git</a></p>

<pre><code>git clone https://github.com/ms-iot/wof-webapp.git
</code></pre></li>
</ul>

<h4 id="toc_2">Step 2.</h4>

<p>Prepare your database to send you the feedback from the app. We will use <a href="http://sendgrid.com/">SendGrid</a> for that. If you don&rsquo;t want to receive emails from your web-app with feedback that people leave, skip this step.</p>

<ul>
<li>Follow <a href="http://azure.microsoft.com/en-us/documentation/articles/sendgrid-dotnet-how-to-send-email/">these instructions</a> to get a free SendGid account and get your SendGrid username and password.</li>
<li>Open &ldquo;insertFeedbackScript.js&rdquo; from the files you got from Git in any editor. Replace &ldquo;[your sendgrid username]&rdquo; with your SendGrid username, &ldquo;[your sendgrid password]&rdquo; with your SendGrid password, and &ldquo;youremail@host.com&rdquo; with the email you want to use for feedback. Save.</li>
<li>HINT: To find out your sendgrid username and password once you created the account, in Azure management portal go to ADD-ONS (in the menu on the left) -&gt; SendGrid -&gt; Connection Info (at the bottom).</li>
</ul>

<p><img src="/windows-on-fridges/img/app/12.jpg" style='width:70%;' border="0" alt="Null"></p>

<ul>
<li>In your Azure management portal, go to your mobile service -&gt; DATA -&gt; Feedback -&gt; SCRIPT. Copy the code from insertFeedbackScript.js instead of the script that handles the insert at the moment. Save at the bottom of the page.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/6.jpg" style='width:100%;' border="0" alt="Null"></p>

<h4 id="toc_3">Step 3.</h4>

<ul>
<li>Open “page.js” from the files you got from Git in any editor. At the very top of the page replace “[your address]” with the address of your mobile service, and &ldquo;[your key]&rdquo; with the application key to your mobile service.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/1.jpg" style='width:100%;' border="0" alt="Null"></p>

<ul>
<li>HINT: To find your key navigate to your mobile services in Azure Management Portal and press “Manage keys” at the bottom. Copy the application key from the pop-up.</li>
</ul>

<p><img src="/windows-on-fridges/img/cloudServices/8.jpg" style='width:70%;' border="0" alt="Null"></p>

<ul>
<li>Save page.js</li>
</ul>

<h4 id="toc_4">Step 4.</h4>

<p>Create the website project:</p>

<ul>
<li>In Visual Studio, go to File  -&gt; New - &gt; Website …</li>
</ul>

<p><img src="/windows-on-fridges/img/app/2.jpg" style='width:100%;' border="0" alt="Null"></p>

<ul>
<li>In the pop-up choose ASP.NET empty website. Click “ok”.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/3.jpg" style='width:100%;' border="0" alt="Null"></p>

<ul>
<li>Copy source files you got from git (including page.js you modified), except &ldquo;insertFeedbackScript.js&rdquo;. In Solution Explorer in visual Studio right-click on your web site, and click &ldquo;paste&rdquo; You source files should appear in Soution Explorer.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/7.jpg" style='width:70%;' border="0" alt="Null"></p>

<h4 id="toc_5">Step 5.</h4>

<p>Publish your website to Azure:</p>

<ul>
<li>Go to Solution Explorer, right-click on your website and choose “Publish Web Site” from the dropdown.</li>
<li>In the pop-up click on &ldquo;Windows Azure Web Sites&rdquo;</li>
</ul>

<p><img src="/windows-on-fridges/img/app/8.jpg" style='width:70%;' border="0" alt="Null"></p>

<ul>
<li><p>In the next pop-up sign into your Azure account if you are not singed in and choose the subscription you want to use. Click “Next”.</p></li>

<li><p>Just right to the “Existing Web Sites” dropdown choose &ldquo;New&hellip;&rdquo;.</p></li>
</ul>

<p><img src="/windows-on-fridges/img/app/9.jpg" style='width:70%;' border="0" alt="Null"></p>

<ul>
<li>In the next window, for Site name input the URL you want your web-app to be located at. This will be the actual URL of your web-app used to fetch the robot. Choose your region. Choose the database you just created for mobile services. Input login and password you created when creating your mobile services. Hit “Create”.</li>
<li>HINT: Don’t remember your database name? In Azure management portal go to your mobile service CONFIGURE tab. The database name is at the top.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/10.jpg" style='width:70%;' border="0" alt="Null"></p>

<ul>
<li>When the website is created, hit &ldquo;Publish&rdquo;. When it is published, the browser window will open up and you will be able to start using your new web-app.</li>
</ul>

<p><img src="/windows-on-fridges/img/app/11.jpg" style='width:70%;' border="0" alt="Null"></p>

<h4 id="toc_6">Step 6.</h4>

<ul>
<li>Now you have to give permissions to your website to connect to your mobile services. In Azure management portal go to mobile services you created. Open CONFIGURE tab. Under &ldquo;Cross-Origin Resource Sharing (cors)&rdquo; line add your website’s URL.</li>
</ul>

<p><img src="/windows-on-fridges/img/azure/5.jpg" style='width:80%;' border="0" alt="Null"></p>

<ul>
<li>Press “save” at the bottom of the page.</li>
</ul>

<p>Now your website is created!
Note that if you haven’t <a href="http://ms-iot.github.io/windows-on-fridges/webservices/map/">uploaded the map of the space</a> yet, your web app will accept any room numbers to enable testing. Once you upload the map, your map will only accept office numbers present on the map.</p>


                    </div>
                    </section>
                </div>
                <div class="col-md-1">
                    
                    <a class="navigation next" href="/windows-on-fridges/webservices/map">
                        <i class="fa fa-angle-right"> </i>
                    </a>
                    
                </div>
              </div>
              
          </section>
      </section>
     
  </section>
  
    
    <script src="http://ms-iot.github.io/windows-on-fridges/js/jquery-1.11.1.min.js"></script>
    <script src="http://ms-iot.github.io/windows-on-fridges/js/bootstrap.min.js"></script>
    
    <script src="http://ms-iot.github.io/windows-on-fridges/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://ms-iot.github.io/windows-on-fridges/js/scripts.js"></script>
    <script async defer id="github-bjs" src="/windows-on-fridges/js/buttons.js"></script>
    <script>


</script>

  </body>
</html>

